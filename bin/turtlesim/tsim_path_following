#!/usr/bin/env python
import rospy

from polaris_follower.controllers import Follower
from polaris_follower.planners import AStarPlanner
from polaris_follower.robots import Turtle
from polaris_follower.utils import *


def main():
    rospy.init_node('Controller')

    # Initialize and spawn the turtles
    bot = Turtle('turtle1')
    dest = get_point_from_user_input()
    planner = AStarPlanner()

    # Initialize the controller
    controller = Follower(bot, planner)

    # Simulate the trajectory of the turtlebot from its current position to its destination
    controller.simulate(dest)
    rospy.spin()


if __name__ == '__main__':
    main()
